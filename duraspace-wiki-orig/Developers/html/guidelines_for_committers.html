<div id="main-content" class="wiki-content">
                           <div>
<ul>
    <li><a href="#GuidelinesforCommitters-CommittingtotheSharedGitRepository">Committing to the Shared Git Repository</a></li>
<ul>
    <li><a href="#GuidelinesforCommitters-Useabranchforanyworkinprogress">Use a branch for any work in progress</a></li>
    <li><a href="#GuidelinesforCommitters-Alwayswritetestsforyourcode">Always write tests for your code</a></li>
    <li><a href="#GuidelinesforCommitters-Ifyouwantacodereview,requestit">If you want a code review, request it</a></li>
    <li><a href="#GuidelinesforCommitters-Rebasebranchesbeforecommittingtomasterorhandingofftosomeoneelse">Rebase branches before committing to master or handing off to someone else</a></li>
    <li><a href="#GuidelinesforCommitters-Mergeyourownbranchestomaster">Merge your own branches to master</a></li>
    <li><a href="#GuidelinesforCommitters-Deleteremotebrancheswhenthey'refinished">Delete remote branches when they're finished</a></li>
    <li><a href="#GuidelinesforCommitters-Gitcommitmessages">Git commit messages</a></li>
<ul>
    <li><a href="#GuidelinesforCommitters-Samplecommitmessages">Sample commit messages</a></li>
</ul>
</ul>
</ul></div>

<h2 id="GuidelinesforCommitters-CommittingtotheSharedGitRepository">Committing to the Shared Git Repository</h2>

<p><strong>Note</strong>: If you <em>are not</em> a committer on a project, please refer to the <a href="/display/hydra/Guidelines+for+Contributors">Guidelines for contributors</a> for information on how you can contribute code using pull requests.  If you <em>are</em> a committer on a project, read these guidelines for contributing directly to the shared Git repository.</p>

<p>The code for each of the shared Hydra projects is collectively maintained by the project's committers.  Each project has a technical lead and/or a release manager, but most decisions are made collectively.</p>

<ol>
  <li>Use a branch for any work in progress</li>
  <li>Always write tests for your code</li>
  <li>If you want a code review, request it</li>
  <li>Rebase branches before committing to master or handing off to someone else</li>
  <li>Merge your own branches to master</li>
  <li>Delete remote branches when they're finished</li>
</ol>


<p>See <a href="http://hudson.projecthydra.org/job/hydra-head-rails3-plugin/Documentation/file.GIT_WORKFLOW.html" class="external-link" rel="nofollow">Git Workflow for Hydra Projects</a> for more information about how to create branches and use git when working on a Hydra project.</p>


<p>Also refer to the General Tips on the <a href="/display/hydra/Ways+to+Contribute+Code">Ways to Contribute Code</a> page.</p>

<h3 id="GuidelinesforCommitters-Useabranchforanyworkinprogress">Use a branch for any work in progress</h3>

<p>When starting work on a new feature, or merging features from another project, first create a remote git branch named after the most relevant Jira ticket.  <em>Don't have a jira ticket for your work?  <a href="https://wiki.duraspace.org/display/hydra/Developers#Developers-Tickets%3AReportingBugs%26RequestingFeatures" rel="nofollow">Create one</a>.</em></p>

<h3 id="GuidelinesforCommitters-Alwayswritetestsforyourcode">Always write tests for your code</h3>

<p>Everyone should always write tests for the code they contribute, but it is especially important for committers to police themselves in this respect.  You should be writing RSpec <em>and</em> Cucumber tests whenever applicable.</p>

<h3 id="GuidelinesforCommitters-Ifyouwantacodereview,requestit">If you want a code review, request it </h3>

<p>Committers (people with push permissions on the git repository) take responsibility for controlling the quality of their own commits, but we all help each other when someone needs a fresh set of eyes.  If you want some of your code reviewed, or if you are worried that your changes may affect other people's work, please ask other committers to look at your code &amp; talk through it with you.  The best ways to find reviewers:</p>

<ul>
  <li>email the hydra-tech list</li>
  <li>email other committers directly</li>
  <li>bring it up in a weekly committers call</li>
  <li>find other committers on the #blacklight or #code4lib irc channels and ask them to meet you in the #projecthydra channel</li>
</ul>


<p>Once you've found a reviewer, you can transition your Jira ticket into review and assign a reviewer.</p>

<h3 id="GuidelinesforCommitters-Rebasebranchesbeforecommittingtomasterorhandingofftosomeoneelse">Rebase branches before committing to master or handing off to someone else</h3>

<p>Do not rebase on a public branch. Therefore, before rebasing, create a local branch of your public feature branch, rebase and then fast-forward merge with master.</p>

<p>See <a href="https://github.com/diaspora/diaspora/wiki/Git-Workflow" class="external-link" rel="nofollow">Diaspora Git Workflow</a> for more info about rebasing.</p>

<h3 id="GuidelinesforCommitters-Mergeyourownbranchestomaster">Merge your own branches to master</h3>

<p>Committers are responsible for merging their own branches into master when their work is finished.<br>
If you're making major changes, or changes you want to discuss before merging into master, email the <a href="http://groups.google.com/group/hydra-tech" class="external-link" rel="nofollow">hydra-tech</a> list and/or put yourself on the agenda for the next <a href="/display/hydra/Notes+from+Meetings+and+Calls">Committers Call</a>.</p>

<h3 id="GuidelinesforCommitters-Deleteremotebrancheswhenthey'refinished">Delete remote branches when they're finished</h3>

<p>When you're finished merging a branch into master, delete any associated remote branches you may have created in the process.</p>

<p>Ex.  If you want to delete a remote branch called hydra-375</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<div><div id="highlighter_768040" class="syntaxhighlighter nogutter  java"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java plain">git push origin :hydra-</code><code class="java value">375</code></div></div></td></tr></tbody></table></div></div>
</div></div>

<h3 id="GuidelinesforCommitters-Gitcommitmessages">Git commit messages</h3>

<p>Commit messages should follow the guidelines described in detail at <a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" class="external-link" rel="nofollow">http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html</a>.</p>

<p>In summary:</p>

<ul>
  <li>First line:  JIRA issue ID in all caps (if applicable), followed by a brief description (~ 50 characters)</li>
  <li>Second line:  blank</li>
  <li>Following lines:  more detailed description, line-wrapped at 72 characters.  May contain multiple paragraphs, separated by blank lines.  Link to the JIRA issue, if applicable.</li>
</ul>


<p>Use the present tense when writing messages, i.e. "Fix bug, apply patch", not "Fixed bug, applied patch."</p>

<h4 id="GuidelinesforCommitters-Samplecommitmessages">Sample commit messages</h4>

<ul>
  <li>linked to a JIRA issue:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>FCREPO-780: NPE thrown on disseminations

Fix for the following bug: Fedora throws a null pointer exception if
you call a disseminator that fronts a web service whose response does
not contain a "Content-type" header.

https://jira.duraspace.org/browse/FCREPO-780
</pre>
</div></div></li>
</ul>


<ul>
  <li>Minor Commits accumulating against a single ticket/story:
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>FCREPO-780: Fixed a typo in model spec.

https://jira.duraspace.org/browse/FCREPO-780
</pre>
</div></div>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>FCREPO-780: Adjusted padding for inputs

https://jira.duraspace.org/browse/FCREPO-780
</pre>
</div></div>
etc. etc.</li>
</ul>
    
        </div>